{% extends 'base.html' %}

{% block title %}Home - Law Case RAG System{% endblock %}

{% block content %}
<div class="row">
    <div class="col-12">
        <div class="card">
            <div class="card-body text-center">
                <h1 class="card-title mb-4">
                    <i class="fas fa-balance-scale text-primary me-3"></i>
                    Welcome to Law Case RAG System
                </h1>
                <p class="lead text-muted">
                    Upload legal documents and query them using advanced AI-powered search
                </p>
            </div>
        </div>
    </div>
</div>

<div class="row mt-4">
    <div class="col-md-4 mb-4">
        <div class="card h-100">
            <div class="card-body text-center">
                <div class="mb-3">
                    <i class="fas fa-upload fa-3x text-primary"></i>
                </div>
                <h5 class="card-title">Upload Documents</h5>
                <p class="card-text">Upload PDF legal documents to your knowledge base. The system will automatically extract text, chunk documents, and generate embeddings.</p>
                <a href="{% url 'rag_system:upload' %}" class="btn btn-primary">
                    <i class="fas fa-upload me-2"></i>Upload Documents
                </a>
            </div>
        </div>
    </div>

    <div class="col-md-4 mb-4">
        <div class="card h-100">
            <div class="card-body text-center">
                <div class="mb-3">
                    <i class="fas fa-search fa-3x text-success"></i>
                </div>
                <h5 class="card-title">Query System</h5>
                <p class="card-text">Ask questions about your legal documents. The RAG system will find the most relevant information and provide detailed answers.</p>
                <a href="{% url 'rag_system:query' %}" class="btn btn-success">
                    <i class="fas fa-search me-2"></i>Start Querying
                </a>
            </div>
        </div>
    </div>

    <div class="col-md-4 mb-4">
        <div class="card h-100">
            <div class="card-body text-center">
                <div class="mb-3">
                    <i class="fas fa-file-alt fa-3x text-info"></i>
                </div>
                <h5 class="card-title">Manage Documents</h5>
                <p class="card-text">View all uploaded documents, check their processing status, and manage your knowledge base.</p>
                <a href="{% url 'rag_system:documents' %}" class="btn btn-info">
                    <i class="fas fa-file-alt me-2"></i>View Documents
                </a>
            </div>
        </div>
    </div>
</div>

<div class="row mt-4">
    <div class="col-12">
        <div class="card">
            <div class="card-header">
                <h5 class="mb-0">
                    <i class="fas fa-chart-bar me-2"></i>
                    System Statistics
                </h5>
            </div>
            <div class="card-body">
                <div class="row text-center">
                    <div class="col-md-3 mb-3">
                        <div class="border-end">
                            <h3 class="text-primary">{{ total_documents|default:"0" }}</h3>
                            <p class="text-muted mb-0">Total Documents</p>
                        </div>
                    </div>
                    <div class="col-md-3 mb-3">
                        <div class="border-end">
                            <h3 class="text-success">{{ processed_documents|default:"0" }}</h3>
                            <p class="text-muted mb-0">Processed</p>
                        </div>
                    </div>
                    <div class="col-md-3 mb-3">
                        <div class="border-end">
                            <h3 class="text-warning">{{ processing_documents|default:"0" }}</h3>
                            <p class="text-muted mb-0">Processing</p>
                        </div>
                    </div>
                    <div class="col-md-3 mb-3">
                        <div>
                            <h3 class="text-info">{{ total_queries|default:"0" }}</h3>
                            <p class="text-muted mb-0">Total Queries</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<div class="row mt-4">
    <div class="col-12">
        <div class="card">
            <div class="card-header">
                <h5 class="mb-0">
                    <i class="fas fa-info-circle me-2"></i>
                    How It Works
                </h5>
            </div>
            <div class="card-body">
                <div class="row">
                    <div class="col-md-6">
                        <h6><i class="fas fa-upload text-primary me-2"></i>Document Processing</h6>
                        <ol class="text-muted">
                            <li>Upload PDF legal documents</li>
                            <li>System extracts text from PDFs</li>
                            <li>Documents are chunked into smaller segments</li>
                            <li>AI generates vector embeddings</li>
                            <li>Vectors stored in ChromaDB for fast search</li>
                        </ol>
                    </div>
                    <div class="col-md-6">
                        <h6><i class="fas fa-search text-success me-2"></i>Query Processing</h6>
                        <ol class="text-muted">
                            <li>Enter your legal question</li>
                            <li>System generates query embedding</li>
                            <li>Finds most similar document chunks</li>
                            <li>Returns relevant information</li>
                            <li>Provides source documents and metadata</li>
                        </ol>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %} 